(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{284:function(t,e,r){var content=r(298);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(18).default)("54983d38",content,!1,{sourceMap:!1})},285:function(t,e,r){"use strict";r.r(e);var o={name:"Preloader",props:{width:{type:String,default:"200px"},color:{type:String,default:"#000"},message:{type:String,default:"Aguarde. Carregando..."}}},n=(r(297),r(3)),component=Object(n.a)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"preloader",style:"height:calc("+t.width+" + 42px); margin-bottom: 24px"},[r("svg",{staticClass:"preloader__svg",style:"height:"+t.width,attrs:{width:"100%",viewBox:"0 0 500 500"}},[r("path",{staticClass:"preloader__path",attrs:{fill:"none",stroke:t.color,"stroke-width":"8.329","stroke-miterlimit":"10",d:"M174.071 81.447l-23.316-23.32H84.963l8.75 52.469h21.235l14.574 54.96-41.641 30.814 8.743 9.997 26.234-14.987 10.829 10.826-29.567 23.73v61.632l16.032 16.027-15.412 15.411v18.109l13.641 13.642v48.821H99.537v34.98l31.857 31.853h58.921l29.148-16.859V325.458l-19.152-31.645 12.909-12.909V248.42l32.059-17.066v-33.315l70.793 31.646h52.049v-79.532l17.698-17.694-13.115-20.617h-84.117l-28.732 21.237-7.91-25.4 20.404-66.21-10.41-6.246-42.476 46.012z"}})]),t._v(" "),r("p",{staticClass:"preloader__message",style:"color:"+t.color},[t._v(t._s(t.message))])])}),[],!1,null,"6a42296b",null);e.default=component.exports},297:function(t,e,r){"use strict";var o=r(284);r.n(o).a},298:function(t,e,r){(e=r(17)(!1)).push([t.i,'*[data-v-6a42296b]{box-sizing:border-box}body[data-v-6a42296b]{font-family:"Roboto","Segoe UI","Helvetica",Arial,sans-serif;font-size:16px;margin:0;background-color:#005249}a[data-v-6a42296b]{color:#008375}.row[data-v-6a42296b]{display:flex;flex-direction:row;flex-wrap:wrap;width:100%}.column[data-v-6a42296b]{display:flex;flex-direction:column;flex-basis:100%;flex:1}.column.gutter[data-v-6a42296b]{max-width:2rem}.preloader[data-v-6a42296b]{position:relative;height:0;padding:0}.preloader__svg[data-v-6a42296b]{position:absolute;height:calc(100% - 24px);width:100%;left:0;top:0}.preloader__path[data-v-6a42296b]{stroke-dasharray:1640;-webkit-animation:draw-sao-paulo-externo-data-v-6a42296b 3.5s;animation:draw-sao-paulo-externo-data-v-6a42296b 3.5s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite}.preloader__message[data-v-6a42296b]{width:100%;position:absolute;bottom:-18px;text-align:center;height:24px;-webkit-animation:pulse-opacity-data-v-6a42296b 1.75s;animation:pulse-opacity-data-v-6a42296b 1.75s;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-direction:alternate;animation-direction:alternate;opacity:.5}@-webkit-keyframes draw-sao-paulo-externo-data-v-6a42296b{0%{stroke-dashoffset:-1640}to{stroke-dashoffset:0}}@keyframes draw-sao-paulo-externo-data-v-6a42296b{0%{stroke-dashoffset:-1640}to{stroke-dashoffset:0}}@-webkit-keyframes pulse-opacity-data-v-6a42296b{0%{opacity:.5}to{opacity:1}}@keyframes pulse-opacity-data-v-6a42296b{0%{opacity:.5}to{opacity:1}}',""]),t.exports=e},301:function(t,e,r){var content=r(335);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(18).default)("76cee9b6",content,!1,{sourceMap:!1})},303:function(t,e,r){"use strict";r.r(e);r(129);var o={name:"GrafBar",props:{base:{type:Number,default:1},current:{type:Number,default:1},total:{type:Number,default:1},baseFill:{type:String,default:"#DFDFDF"},currentFill:{type:String,default:"#434343"},height:{type:Number,default:23},width:{type:Number,default:252},background:{type:String,default:"white"}},computed:{baseRatio:function(){return this.width*this.base/this.total},currentRatio:function(){return this.width*this.current/this.total}}},n=r(3),component=Object(n.a)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("svg",{style:"background:"+t.background,attrs:{width:t.width,height:t.height,viewBox:"0 0 "+t.width+" "+t.height}},[r("rect",{attrs:{width:t.baseRatio,height:t.height,fill:t.baseFill}}),t._v(" "),r("rect",{attrs:{width:t.currentRatio,height:t.height,fill:t.currentFill}})])}),[],!1,null,null,null);e.default=component.exports},310:function(t,e){t.exports={spurbanismoBase64:"data:image/png;base64,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",line:"_______________________________________________________________________________________________"}},316:function(t,e,r){"use strict";r(50),r(129);var o={name:"PreImpressaoA4",components:{LogoSpurb:r(104).default},data:function(){return{origin:"",now:"",width:800}},props:{paginationIndex:{type:Number,required:!0},paginationTotal:{type:Number,required:!0}},computed:{height:function(){return 1.51*this.width},logoMaxWidth:function(){return.179*this.width},paddingTop:function(){return this.width<638?0:.054*this.height},paddingRightLeft:function(){return this.width<638?0:.127*this.width},paddingBottom:function(){return this.width<638?0:.024*this.height},mainHeight:function(){return this.width<638?"100%":"".concat(.8*this.height,"px")}},mounted:function(){this.width=this.$refs.a4.offsetWidth,this.$emit("getA4Width",this.width),this.origin="".concat(window.location.host,"/apropriacaohoras/");var t=this.$moment(),e=t.format("YYYY MM DD"),r=t.format("hh:mm").replace(":","h");this.now="".concat(e," às ").concat(r)}},n=(r(334),r(3)),component=Object(n.a)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{ref:"a4",staticClass:"pre-impressao-a4",style:"height: "+t.height+"px; padding: "+t.paddingTop+"px "+t.paddingRightLeft+"px "+t.paddingBottom+"px"},[r("div",{staticClass:"pre-impressao-a4__header"},[r("logo-spurb",{staticClass:"pre-impressao-a4__logo",style:"max-width:"+t.logoMaxWidth+"px",attrs:{"fill-type":"#1D1D1B","fill-brand":"#038375"}}),t._v(" "),r("p",[r("span",{attrs:{"data-cy":"pre-impressao__pagina"}},[t._v(t._s(t.paginationIndex))]),t._v(" de\n      "+t._s(t.paginationTotal)+"\n    ")])],1),t._v(" "),r("div",{staticClass:"pre-impressao-a4__main",style:"height:"+t.mainHeight},[t._t("default")],2),t._v(" "),r("div",{staticClass:"pre-impressao-a4__footer"},[r("p",[t._v("Verifique este documento"),r("br"),t._v(t._s(t.origin))]),t._v(" "),r("p",{staticClass:"pre-impressao-a4__footer--right"},[t._v("\n      Relatório gerado em "),r("br"),t._v(t._s(t.now)+"\n    ")])])])}),[],!1,null,"cf2cdbb2",null);e.a=component.exports;installComponents(component,{LogoSpurb:r(104).default})},333:function(t,e){t.exports={styles01:{header:{fontSize:18,alignment:"left",bold:!0},footer:{fontSize:10},subheader:{fontSize:12},margin:{margin:[0,15,0,30]},leftText:{fontSize:13,alignment:"left"},rightText:{fontSize:13,alignment:"right"},tableFirst:{bold:!0},tableHeader:{bold:!0,alignment:"right"},total:{bold:!0,fillColor:"#c3c3c3"}},styles02:{header:{fontSize:18,alignment:"left",bold:!0},footer:{fontSize:10,margin:[0,15,0,150]},subheader:{fontSize:12,bold:!0},margin:{margin:[0,15,0,30]},leftText:{fontSize:13,alignment:"left"},rightText:{fontSize:13,alignment:"right"},tableFirst:{bold:!0},tableHeader:{bold:!0,alignment:"right"},total:{bold:!0,fillColor:"#c3c3c3"}}}},334:function(t,e,r){"use strict";var o=r(301);r.n(o).a},335:function(t,e,r){(e=r(17)(!1)).push([t.i,'*[data-v-cf2cdbb2]{box-sizing:border-box}body[data-v-cf2cdbb2]{font-family:"Roboto","Segoe UI","Helvetica",Arial,sans-serif;font-size:16px;margin:0;background-color:#005249}a[data-v-cf2cdbb2]{color:#008375}.row[data-v-cf2cdbb2]{display:flex;flex-direction:row;flex-wrap:wrap;width:100%}.column[data-v-cf2cdbb2]{display:flex;flex-direction:column;flex-basis:100%;flex:1}.column.gutter[data-v-cf2cdbb2]{max-width:2rem}.pre-impressao-a4[data-v-cf2cdbb2]{display:flex;flex-direction:column;justify-content:space-between;margin-bottom:2rem;padding:1rem 1.5rem;font-size:small;border:1px solid #ebe6e6;box-shadow:4px 4px 8px rgba(125,124,124,.25)}.pre-impressao-a4__footer[data-v-cf2cdbb2],.pre-impressao-a4__header[data-v-cf2cdbb2]{display:flex;justify-content:space-between;align-items:center}.pre-impressao-a4__header[data-v-cf2cdbb2]{padding-bottom:1rem;border-bottom:1px solid #777}.pre-impressao-a4__header p[data-v-cf2cdbb2]{margin-top:24px;margin-bottom:0}.pre-impressao-a4__main[data-v-cf2cdbb2]{display:flex;flex-direction:column}.pre-impressao-a4__footer[data-v-cf2cdbb2]{border-top:1px solid #777}.pre-impressao-a4__footer--right[data-v-cf2cdbb2]{text-align:right}@media (max-width:669px){.pre-impressao-a4[data-v-cf2cdbb2]{border:unset;box-shadow:unset}}',""]),t.exports=e},336:function(t,e,r){var content=r(387);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(18).default)("586e3e69",content,!1,{sourceMap:!1})},358:function(t,e,r){"use strict";r.d(e,"b",(function(){return v})),r.d(e,"a",(function(){return y}));r(35),r(36),r(5);var o=r(74),n=r(333),l=r(71),d=r(310);function c(t){var e=t.projeto,r=t.totalHoras,n=t.fases,l=t.subatividadesFlat,c=t.horas,f=n.map((function(t){var content=l.filter((function(e){return t.id===e.fase})).map((function(t){return[{text:t.nome},{text:c.filter((function(e){return e.subatividade===t.id})).map((function(t){return t.horas+t.extras})).reduce((function(a,t){return a+t}),0)}]}));return{margin:[0,20,0,0],table:{headerRows:1,widths:["70%","30%"],body:[[{text:t.nome,style:["tableFirst"],margin:[0,20,0,0]},{text:"Horas",style:["tableFirst"],margin:[0,20,0,0]}]].concat(Object(o.a)(content))},layout:"lightHorizontalLines"}}));return[{text:d.line,margin:[0,10,0,20]},{columns:[{text:e,style:["header"]},{text:"Horas totais registradas \n ".concat(r),style:["rightText"]}]},{text:d.line,margin:[0,10,0,20]},{text:"Horas totais por subatividades",style:["subheader"]},f,{text:"",pageBreak:"after"}]}function f(t){var e=t.projeto,r=t.totalHoras,n=t.horas,table=t.usuarios.map((function(t){var e=n.filter((function(e){return e.usuario===t.id})).map((function(t){return t.horas+t.extras})).reduce((function(a,t){return a+t}),0);return[{text:t.nome},{text:e}]}));return[{text:d.line,margin:[0,10,0,20]},{columns:[{text:e,style:["header"]},{text:"Horas totais registradas \n ".concat(r),style:["rightText"]}]},{text:d.line,margin:[0,10,0,20]},{text:"Horas totais por Funcionário",style:["subheader"]},{margin:[0,5,0,0],table:{headerRows:1,widths:["70%","30%"],body:[[{text:"Funcionário",style:["tableFirst"]},{text:"Horas",style:["tableFirst"]}]].concat(Object(o.a)(table),[[{text:"Total",style:["textTable","total"]},{text:r,style:["textTable","total"]}]]),pageBreak:"after"},layout:"lightHorizontalLines"}]}var h="".concat(window.location.host,"/apropriacaohoras/"),m=l.a.currentDate(),_=new Date,x=_.getHours()+"h"+_.getMinutes(),v=function(t,e){var r=0;return{pageSize:"A4",content:t.map((function(n,l){var c=0,f=0,h=n.fases.map((function(t){return r+=t.horasUsuario,c+=t.horasEquipe,f+=t.horasUsuario,[{text:t.nome,style:"textTable"},{text:t.horasUsuario,style:["rightText","textTable"]},{text:t.horasEquipe,style:["rightText","textTable"]}]})),m=[{text:d.line,marginTop:10},{marginTop:5,columns:[{text:e,style:["header","margin"]},{text:"Horas totais registradas \n ".concat(r),style:["rightText","margin"]}]},{text:d.line},{marginTop:15,columns:[{text:n.nome,style:["leftText","subheader"]},{text:n.grupo,style:["rightText","subheader"]}]},{style:"tableHoras",marginTop:15,table:{headerRows:1,widths:"33%",body:[[{text:"Fases",style:["tableFirst"]},{text:"Suas horas",style:["tableHeader"]},{text:"Horas da equipe",style:["tableHeader"]}]].concat(Object(o.a)(h),[[{text:"Total",style:["textTable","total"]},{text:f,style:["rightText","textTable","total"]},{text:c,style:["rightText","textTable","total"]}]])},layout:"lightHorizontalLines"}];return l+1!=t.length&&(m[4].pageBreak="after"),m})),header:function(t,e){return{columns:[{image:d.spurbanismoBase64,width:100,marginTop:25,marginLeft:40},{alignment:"right",text:t.toString()+" de "+e,marginTop:25,marginRight:40}]}},footer:{margin:[40,-3,40,0],columns:[{text:"Verifique este documento \n ".concat(h),style:["leftText","footer"]},{text:"Relatório gerado em \n ".concat(m.cDay,"/").concat(m.cMonth,"/").concat(m.cYear," às ").concat(x),style:["rightText","footer"]}]},styles:n.styles01,defaultStyle:{columnGap:20}}},y=function(content){return{pageSize:"A4",header:function(t,e){return{columns:[{image:d.spurbanismoBase64,width:100,marginTop:25,marginLeft:40},{alignment:"right",text:t.toString()+" de "+e,marginTop:25,marginRight:40}]}},content:[(t=content,e=t.projeto,r=t.totalHoras,_=t.usuarios,v=t.fasesComHoras,y=l.a.separarArray(_,4),j=v.map((function(t){return[{text:t.nome},{text:t.totalHorasFase,style:["tableFirst"]}]})),[{text:d.line,margin:[0,15,0,20]},{text:e,style:["header"]},{marginTop:10,columns:[{},{text:"Horas totais registradas \n ".concat(r),style:["rightText"]}]},{text:d.line,margin:[0,15,0,20]},{text:"Equipe",style:["subheader"]},{margin:[0,5,0,0],table:{widths:["25%","25%","25%","25%"],body:y},layout:"noBorders"},{text:d.line,margin:[0,15,0,20]},{text:"Horas totais por fases",style:["subheader"]},{margin:[0,5,0,0],table:{headerRows:1,widths:["70%","30%"],body:[[{text:"Fase",style:["tableFirst"]},{text:"Horas",style:["tableFirst"]}]].concat(Object(o.a)(j),[[{text:"Total",style:["textTable","total"]},{text:r,style:["textTable","total"]}]])},layout:"lightHorizontalLines",pageBreak:"after"}]),c(content),f(content)],footer:{margin:[40,-15,40,0],columns:[{text:"Verifique este documento \n ".concat(h),style:["leftText","footer"]},{text:"Relatório gerado em \n ".concat(m.cDay,"/").concat(m.cMonth,"/").concat(m.cYear," às ").concat(x),style:["rightText","footer"]}]},styles:n.styles02};var t,e,r,_,v,y,j}},386:function(t,e,r){"use strict";var o=r(336);r.n(o).a},387:function(t,e,r){(e=r(17)(!1)).push([t.i,'*[data-v-55b73024]{box-sizing:border-box}body[data-v-55b73024]{font-family:"Roboto","Segoe UI","Helvetica",Arial,sans-serif;font-size:16px;margin:0;background-color:#005249}a[data-v-55b73024]{color:#008375}.row[data-v-55b73024]{display:flex;flex-direction:row;flex-wrap:wrap;width:100%}.column[data-v-55b73024]{display:flex;flex-direction:column;flex-basis:100%;flex:1}.column.gutter[data-v-55b73024]{max-width:2rem}.pre-impressao-usuario[data-v-55b73024]{display:flex}.pre-impressao-usuario__header[data-v-55b73024]{display:flex;justify-content:space-between;flex-direction:row}.pre-impressao-usuario__header h2[data-v-55b73024]{font-weight:400;font-size:1.52rem}@media (max-width:400px){.pre-impressao-usuario__header h2[data-v-55b73024]{font-size:1rem}}.pre-impressao-usuario__header span[data-v-55b73024]{font-size:1rem}.pre-impressao-usuario--align-right[data-v-55b73024]{text-align:right}.pre-impressao-usuario__footer[data-v-55b73024]{border-top:1px solid #777;margin-top:auto;display:flex}.pre-impressao-usuario__legenda[data-v-55b73024]{margin-right:1rem;border-left:1rem solid;padding-left:.25rem}.pre-impressao-usuario__container[data-v-55b73024]{display:flex}.pre-impressao-usuario .projeto__table[data-v-55b73024],.pre-impressao-usuario__container[data-v-55b73024],.pre-impressao-usuario__projetos[data-v-55b73024]{width:100%}.projeto[data-v-55b73024]{margin-top:2rem}.projeto__title[data-v-55b73024]{display:flex;flex-direction:row;justify-content:space-between;border-top:1px solid #777}.projeto__title h3[data-v-55b73024]{font-size:1rem;font-weight:400}.projeto__table[data-v-55b73024]{border-collapse:collapse}.projeto__table td[data-v-55b73024],.projeto__table th[data-v-55b73024]{text-align:right;height:32px;padding-right:1rem}.projeto__table td[data-v-55b73024]:first-child,.projeto__table th[data-v-55b73024]:first-child{text-align:left}.projeto__table td[data-v-55b73024]:last-child,.projeto__table th[data-v-55b73024]:last-child{display:flex;align-items:center;padding-right:0;flex-direction:row-reverse}.projeto__fase[data-v-55b73024]{border-top:1px solid #d2d2d2}.projeto__soma[data-v-55b73024]{background-color:#ececec;font-weight:700;border-top:2px solid grey}.projeto__soma td[data-v-55b73024]:first-child{padding-left:.5rem}',""]),t.exports=e},440:function(t,e,r){"use strict";r.r(e);r(44),r(24),r(30),r(6),r(5),r(25),r(273);var o=r(74),n=r(13),l=r(358),d=r(14),c=r(316),f=r(285),h=r(303),m=r(47);function _(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function x(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?_(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):_(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var v={name:"PreImpressaoUsuario",layout:"pre-impressao",data:function(){return{projeto:{},showgrafbar:!0}},components:{PreImpressaoA4:c.a,Preloader:f.default,GrafBar:h.default},computed:x(x(x({},Object(d.e)("usuario",["nome","projetos","id"])),Object(d.e)("pre-impressao",["fetching","error","err","horasProjetosUsuario","projetosUsuario","gruposUsuario","fasesUsuario","horas","page"])),{},{isReady:function(){return!this.error&&!this.fetching},horasTotaisUsuario:function(){return this.horasProjetosUsuario.length?this.horasProjetosUsuario.map((function(t){return t.total})).reduce((function(t,e){return t+e}),0):0},gruposHashTable:function(){return this.gruposUsuario.length?Object(m.createHashTable)(this.gruposUsuario):{}},validFases:function(){return this.fasesUsuario.length?this.flatArrays(this.fasesUsuario):[]},validHoras:function(){return this.horas.length?this.flatArrays(this.horas):[]},fasesHashTable:function(){return this.validFases.length?Object(m.createHashTable)(this.validFases):{}},projetosFases:function(){var t=this;return this.projetosUsuario.length&&this.validFases.length&&this.validHoras.length?this.projetosUsuario.map((function(e){var r=e.id,o=e.grupo,n=(e.ativo,e.nome),l=t.validFases.filter((function(t){return o===t.grupo})).map((function(e){var o=t.validHoras.filter((function(t){return t.projeto===r&&t.fase===e.id})),n=o.map((function(t){return t.horas+t.extras})).reduce((function(t,e){return t+e}),0),l=o.filter((function(e){return e.usuario===t.id})).map((function(t){return t.horas+t.extras})).reduce((function(t,e){return t+e}),0);return{id:e.id,nome:e.nome,horasEquipe:n,horasUsuario:l}})),d=t.validHoras.map((function(t){return{total:t.horas+t.extras,usuario:t.usuario,projeto:t.projeto}})).filter((function(t){return t.projeto===r})),c=d.reduce((function(t,e){return t+e.total}),0),f=d.filter((function(e){return e.usuario===t.id})).reduce((function(t,e){return t+e.total}),0);return{nome:n,fases:l,grupo:t.gruposHashTable[o],totalHorasProjeto:c,totalHorasProjetoUsuario:f}})):[]},projetosForPdf:function(){return this.projetosFases.filter((function(t){return t.totalHorasProjeto>0}))},pageCount:function(){return this.projetosFases.length?this.projetosFases.filter((function(t){return t.totalHorasProjeto})).length-1:0}}),watch:{page:function(t){t>0&&this.currentProjeto()},pageCount:function(t){this.SET({data:t,key:"pageCount"})},projetos:function(){this.setupHorasProjetos()},projetosUsuario:function(t){if(t.length){var e=t.map((function(t){return t.grupo})),r=Object(o.a)(new Set(e));this.getGruposUsuario({ids:r})}},projetosForPdf:function(t){var e=this;if(this.projetosFases.length>0){this.projeto=this.projetosFases[0];var r=Object(l.b)(t,this.nome),o=t.map((function(t){var r=t.fases,o=t.grupo,n=t.nome;return{values:r.map((function(t){var r=t.horasUsuario,l=t.horasEquipe,d=t.id;return{grupo:o,projeto:n,fase:e.fasesHashTable[d],"suas horas":r,"horas da equipe":l}}))}}));this.$nuxt.$emit("getPdf",r),this.$nuxt.$emit("getCsv",this.flatArrays(o))}},gruposUsuario:function(t){var e=t.map((function(t){return t.id}));this.getFasesUsuario({ids:e})}},created:function(){this.setupHorasProjetos()},methods:x(x(x({},Object(d.b)("pre-impressao",["getHorasProjetos","getProjetosUsuario","getGruposUsuario","getFasesUsuario","getHoras"])),Object(d.d)("pre-impressao",["SET"])),{},{setupHorasProjetos:function(){this.getHorasProjetos({ids:this.projetos,today:this.$moment().format("YYYY-MM-DD"),user:this.id}),this.getProjetosUsuario({ids:this.projetos}),this.getHoras({ids:this.projetos})},flatArrays:function(t){return t.map((function(t){return t.values})).flat()},currentProjeto:function(){this.projeto=this.projetosFases[this.page-1]},setDinamicBreakPoints:function(t){t<800&&(this.showgrafbar=!1)}})},y=(r(386),r(3)),component=Object(y.a)(v,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"pre-impressao-usuario",style:{display:t.fetching?"block":"flex"}},[t.fetching?r("preloader"):t._e(),t._v(" "),r("div",{staticClass:"pre-impressao-usuario__container"},[t.isReady?r("div",{staticClass:"pre-impressao-usuario__projetos"},[t.projeto.totalHorasProjeto?r("pre-impressao-a4",{attrs:{paginationIndex:t.page,paginationTotal:t.pageCount},on:{getA4Width:t.setDinamicBreakPoints}},[r("div",{staticClass:"pre-impressao-usuario__header"},[r("h2",[t._v(t._s(t.nome))]),t._v(" "),r("p",{staticClass:"pre-impressao-usuario--align-right"},[t._v("\n            Horas totais registradas"),r("br"),r("span",[t._v(t._s(t.projeto.totalHorasProjetoUsuario))])])]),t._v(" "),r("div",{staticClass:"pre-impressao-usuario__main"},[r("div",{staticClass:"projeto"},[r("div",{staticClass:"projeto__title"},[r("h3",[t._v(t._s(t.projeto.nome))]),t._v(" "),r("p",[t._v(t._s(t.projeto.grupo))])]),t._v(" "),r("table",{staticClass:"projeto__table"},[r("thead",[r("tr",[r("th",[t._v("Fases")]),t._v(" "),r("th",[t._v("Suas horas")]),t._v(" "),r("th",[t._v("Horas da equipe")]),t._v(" "),t.showgrafbar?r("th"):t._e()])]),t._v(" "),r("tbody",[t._l(t.projeto.fases,(function(e){return r("tr",{key:e.id,staticClass:"projeto__fase"},[r("td",[t._v(t._s(e.nome))]),t._v(" "),r("td",[t._v(t._s(e.horasUsuario))]),t._v(" "),r("td",[t._v(t._s(e.horasEquipe))]),t._v(" "),t.showgrafbar?r("td",[r("graf-bar",{attrs:{base:e.horasEquipe,current:e.horasUsuario,total:t.projeto.totalHorasProjeto,height:32,width:200}})],1):t._e()])})),t._v(" "),r("tr",{staticClass:"projeto__soma"},[r("td",[t._v("total")]),t._v(" "),r("td",[t._v(t._s(t.projeto.totalHorasProjetoUsuario))]),t._v(" "),r("td",[t._v(t._s(t.projeto.totalHorasProjeto))]),t._v(" "),t.showgrafbar?r("td"):t._e()])],2)])])]),t._v(" "),r("div",{staticClass:"pre-impressao-usuario__footer"},[r("p",{staticClass:"pre-impressao-usuario__legenda",staticStyle:{"border-color":"#434343"}},[t._v("\n            "+t._s(t.nome)+"\n          ")]),t._v(" "),r("p",{staticClass:"pre-impressao-usuario__legenda",staticStyle:{"border-color":"#DFDFDF"}},[t._v("\n            Equipe\n          ")])])]):t._e()],1):t._e()])],1)}),[],!1,null,"55b73024",null);e.default=component.exports;installComponents(component,{Preloader:r(285).default,GrafBar:r(303).default})}}]);