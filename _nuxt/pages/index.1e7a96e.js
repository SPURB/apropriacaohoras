(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{282:function(t,e,o){var content=o(291);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(18).default)("f2fef828",content,!1,{sourceMap:!1})},283:function(t,e,o){"use strict";o.r(e);var r={name:"InputOptions",data:function(){return{open:!1,selected:""}},props:{options:{type:Array,required:!0},type:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},computed:{typeBackground:function(){return this.type?"forms":"default"},typeDisabled:function(){return this.disabled?(this.selected=this.options[0].title,"disabled"):""}},created:function(){this.selected=this.options[0].title},methods:{setSelectedValue:function(option){this.selected=option.title,this.open=!1,this.$emit("setOptionValue",option.value)}}},n=(o(290),o(3)),component=Object(n.a)(r,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"select-options"},[o("button",{staticClass:"select-options__toggler",class:[t.typeBackground,t.typeDisabled],attrs:{"data-cy":"btn__options",disabled:t.disabled},on:{click:function(e){e.preventDefault(),t.open=!t.open}}},[o("div",[t._v(t._s(t.selected))]),t._v(" "),o("i",{staticClass:"icon icon-expandir",class:{open:t.open}})]),t._v(" "),o("transition",{attrs:{name:"fade"}},[o("ul",{directives:[{name:"show",rawName:"v-show",value:t.open,expression:"open"}],staticClass:"select-options__select"},t._l(t.options,(function(option,e){return o("li",{key:e,staticClass:"select-options__options",attrs:{value:option.value}},[o("button",{attrs:{"data-cy":"select__option"},on:{click:function(e){return e.preventDefault(),t.setSelectedValue(option)}}},[t._v("\n          "+t._s(option.title)+"\n        ")])])})),0)])],1)}),[],!1,null,"190b6e78",null);e.default=component.exports},284:function(t,e,o){var content=o(298);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(18).default)("54983d38",content,!1,{sourceMap:!1})},285:function(t,e,o){"use strict";o.r(e);var r={name:"Preloader",props:{width:{type:String,default:"200px"},color:{type:String,default:"#000"},message:{type:String,default:"Aguarde. Carregando..."}}},n=(o(297),o(3)),component=Object(n.a)(r,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"preloader",style:"height:calc("+t.width+" + 42px); margin-bottom: 24px"},[o("svg",{staticClass:"preloader__svg",style:"height:"+t.width,attrs:{width:"100%",viewBox:"0 0 500 500"}},[o("path",{staticClass:"preloader__path",attrs:{fill:"none",stroke:t.color,"stroke-width":"8.329","stroke-miterlimit":"10",d:"M174.071 81.447l-23.316-23.32H84.963l8.75 52.469h21.235l14.574 54.96-41.641 30.814 8.743 9.997 26.234-14.987 10.829 10.826-29.567 23.73v61.632l16.032 16.027-15.412 15.411v18.109l13.641 13.642v48.821H99.537v34.98l31.857 31.853h58.921l29.148-16.859V325.458l-19.152-31.645 12.909-12.909V248.42l32.059-17.066v-33.315l70.793 31.646h52.049v-79.532l17.698-17.694-13.115-20.617h-84.117l-28.732 21.237-7.91-25.4 20.404-66.21-10.41-6.246-42.476 46.012z"}})]),t._v(" "),o("p",{staticClass:"preloader__message",style:"color:"+t.color},[t._v(t._s(t.message))])])}),[],!1,null,"6a42296b",null);e.default=component.exports},290:function(t,e,o){"use strict";var r=o(282);o.n(r).a},291:function(t,e,o){(e=o(17)(!1)).push([t.i,'*[data-v-190b6e78]{box-sizing:border-box}body[data-v-190b6e78]{font-family:"Roboto","Segoe UI","Helvetica",Arial,sans-serif;font-size:16px;margin:0;background-color:#005249}a[data-v-190b6e78]{color:#008375}.row[data-v-190b6e78]{display:flex;flex-direction:row;flex-wrap:wrap;width:100%}.column[data-v-190b6e78]{display:flex;flex-direction:column;flex-basis:100%;flex:1}.column.gutter[data-v-190b6e78]{max-width:2rem}.select-options__select[data-v-190b6e78]{list-style-type:none;margin:0 0 2rem;padding:0;box-shadow:0 4px 8px rgba(0,0,0,.24)}.select-options__select li[data-v-190b6e78]:first-child{display:none}.select-options button[data-v-190b6e78]{height:48px;width:100%;text-align:left;cursor:pointer;border:0;font-family:"Roboto","Segoe UI","Helvetica",Arial,sans-serif;font-size:1rem;padding-left:1.75rem;transition:background-color .35s ease-in-out}.select-options button.default[data-v-190b6e78]{background-color:hsla(0,0%,100%,.05);color:#fff}.select-options button.default[data-v-190b6e78]:hover{background-color:hsla(0,0%,100%,.15)}.select-options button.disabled[data-v-190b6e78]{cursor:not-allowed;background-color:#ccc}.select-options button.disabled[data-v-190b6e78]:hover{background-color:#ccc}.select-options button.forms[data-v-190b6e78]{background-color:rgba(0,0,0,.08);color:#000}.select-options button.forms[data-v-190b6e78]:hover{background-color:rgba(0,0,0,.1)}.select-options button[data-v-190b6e78]:focus{outline:none}.select-options__toggler[data-v-190b6e78]{display:flex;align-items:center;justify-content:space-between;border-radius:20px;margin-bottom:10px}.select-options__toggler .icon[data-v-190b6e78]{font-size:40px;transition:transform .15s ease-in-out}.select-options__toggler .icon.open[data-v-190b6e78]{transform:rotate(180deg)}.fade-enter-active[data-v-190b6e78],.fade-leave-active[data-v-190b6e78]{transition:opacity .25s}.fade-enter[data-v-190b6e78],.fade-leave-to[data-v-190b6e78]{opacity:0}',""]),t.exports=e},292:function(t,e,o){"use strict";o.r(e);var r={props:{visible:{type:Boolean,default:!1}}},n=o(3),component=Object(n.a)(r,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"visible"},[this.visible?e("svg",{attrs:{width:"30",height:"30",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"M24 9C14 9 5.46 15.22 2 24C5.46 32.78 14 39 24 39C34 39 42.54 32.78 46 24C42.54 15.22 34 9 24 9ZM24 34C18.48 34 14 29.52 14 24C14 18.48 18.48 14 24 14C29.52 14 34 18.48 34 24C34 29.52 29.52 34 24 34ZM24 18C20.68 18 18 20.68 18 24C18 27.32 20.68 30 24 30C27.32 30 30 27.32 30 24C30 20.68 27.32 18 24 18Z",fill:"white"}}),this._v(" "),e("rect",{attrs:{x:"6.38647",y:"6.08081",width:"50.203",height:"3.41099",transform:"rotate(45 6.38647 6.08081)",fill:"white"}}),this._v(" "),e("rect",{attrs:{x:"9.04004",y:"3.427",width:"50.2031",height:"3.75306",transform:"rotate(45 9.04004 3.427)",fill:"#005249"}})]):e("svg",{attrs:{width:"30",height:"30",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"M24 9C14 9 5.46 15.22 2 24C5.46 32.78 14 39 24 39C34 39 42.54 32.78 46 24C42.54 15.22 34 9 24 9ZM24 34C18.48 34 14 29.52 14 24C14 18.48 18.48 14 24 14C29.52 14 34 18.48 34 24C34 29.52 29.52 34 24 34ZM24 18C20.68 18 18 20.68 18 24C18 27.32 20.68 30 24 30C27.32 30 30 27.32 30 24C30 20.68 27.32 18 24 18Z",fill:"white"}})])])}),[],!1,null,null,null);e.default=component.exports},297:function(t,e,o){"use strict";var r=o(284);o.n(r).a},298:function(t,e,o){(e=o(17)(!1)).push([t.i,'*[data-v-6a42296b]{box-sizing:border-box}body[data-v-6a42296b]{font-family:"Roboto","Segoe UI","Helvetica",Arial,sans-serif;font-size:16px;margin:0;background-color:#005249}a[data-v-6a42296b]{color:#008375}.row[data-v-6a42296b]{display:flex;flex-direction:row;flex-wrap:wrap;width:100%}.column[data-v-6a42296b]{display:flex;flex-direction:column;flex-basis:100%;flex:1}.column.gutter[data-v-6a42296b]{max-width:2rem}.preloader[data-v-6a42296b]{position:relative;height:0;padding:0}.preloader__svg[data-v-6a42296b]{position:absolute;height:calc(100% - 24px);width:100%;left:0;top:0}.preloader__path[data-v-6a42296b]{stroke-dasharray:1640;-webkit-animation:draw-sao-paulo-externo-data-v-6a42296b 3.5s;animation:draw-sao-paulo-externo-data-v-6a42296b 3.5s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite}.preloader__message[data-v-6a42296b]{width:100%;position:absolute;bottom:-18px;text-align:center;height:24px;-webkit-animation:pulse-opacity-data-v-6a42296b 1.75s;animation:pulse-opacity-data-v-6a42296b 1.75s;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-direction:alternate;animation-direction:alternate;opacity:.5}@-webkit-keyframes draw-sao-paulo-externo-data-v-6a42296b{0%{stroke-dashoffset:-1640}to{stroke-dashoffset:0}}@keyframes draw-sao-paulo-externo-data-v-6a42296b{0%{stroke-dashoffset:-1640}to{stroke-dashoffset:0}}@-webkit-keyframes pulse-opacity-data-v-6a42296b{0%{opacity:.5}to{opacity:1}}@keyframes pulse-opacity-data-v-6a42296b{0%{opacity:.5}to{opacity:1}}',""]),t.exports=e},357:function(t,e,o){var content=o(430);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(18).default)("18912dac",content,!1,{sourceMap:!1})},429:function(t,e,o){"use strict";var r=o(357);o.n(r).a},430:function(t,e,o){(e=o(17)(!1)).push([t.i,'*[data-v-02c10274]{box-sizing:border-box}body[data-v-02c10274]{font-family:"Roboto","Segoe UI","Helvetica",Arial,sans-serif;font-size:16px;margin:0;background-color:#005249}a[data-v-02c10274]{color:#008375}.row[data-v-02c10274]{display:flex;flex-direction:row;flex-wrap:wrap;width:100%}.column[data-v-02c10274]{display:flex;flex-direction:column;flex-basis:100%;flex:1}.column.gutter[data-v-02c10274]{max-width:2rem}.login__link[data-v-02c10274]{position:absolute;right:1em;bottom:1em;text-decoration:none;color:#c8c8c8}.login__link[data-v-02c10274]:hover{color:#fff;transition:color .15s ease-in-out}.auth-card[data-v-02c10274]{display:flex;justify-content:center;align-items:center;height:80vh}@media (max-width:800px){.auth-card[data-v-02c10274]{margin:2rem}}.auth[data-v-02c10274]{display:flex;flex-wrap:wrap;align-items:center;justify-content:center;margin:auto;font-family:"Roboto","Segoe UI","Helvetica",Arial,sans-serif;padding-bottom:3rem}@media (max-width:800px){.auth[data-v-02c10274]{flex-direction:column}}.auth__group[data-v-02c10274]{display:flex;color:#fff;margin-top:0}.auth__input[data-v-02c10274]{width:100%;display:flex;flex-direction:column;padding-bottom:1rem}@media (max-width:400px){.auth__btn[data-v-02c10274]{margin-top:7rem;margin-left:auto}}.card-pass[data-v-02c10274]{width:-moz-available}.card-pass__btn-voltar[data-v-02c10274]{transform:rotate(180deg);z-index:8;position:absolute;margin:0;left:0}@media (max-width:800px){.card-pass__btn-voltar[data-v-02c10274]{bottom:10px;left:10px}}.separador[data-v-02c10274]{padding-top:.5rem;margin:.5rem;align-self:center;font-size:1rem}input[data-v-02c10274]{border:none;color:inherit;background-color:hsla(0,0%,100%,.08);padding:0 .75rem;height:3rem;border-radius:24px;font-size:inherit;outline:none}.pass span[data-v-02c10274]{cursor:pointer;margin-top:15px;padding:10px}.pass input[data-v-02c10274]{min-width:400px}@media (max-width:450px){.pass input[data-v-02c10274]{min-width:250px}}.pass .auth__btn[data-v-02c10274]{margin:0}@media (max-width:800px){.pass .auth__btn[data-v-02c10274]{margin-left:auto}}label[data-v-02c10274]{margin-bottom:.25rem}',""]),t.exports=e},450:function(t,e,o){"use strict";o.r(e);o(44),o(24),o(6),o(5),o(30),o(73);var r=o(13),n=o(102),l=o(283),d=o(100),c=o(285),f=o(292),m=o(14);function v(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,o)}return e}function h(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?v(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):v(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var _={name:"Login",components:{BtnProgresso:n.default,InputOptions:l.default,Modal:d.default,Preloader:c.default,VisibleIcon:f.default},data:function(){return{alias:"",host:"spurbanismo.sp.gov.br",hostOptions:[{title:"spurbanismo.sp.gov.br",value:"spurbanismo.sp.gov.br"},{title:"prefeitura.sp.gov.br",value:"prefeitura.sp.gov.br"},{title:"spurbanismo.sp.gov.br",value:"spurbanismo.sp.gov.br"}],validEmail:!1,password:"",modal:{title:"Erro!",description:"Usuário não autenticado",action:{description:"Solicite o acesso para \ndesenvolvimento@spurbanismo.sp.gov.br",text:"Tentar novamente"}},showPasword:!1}},computed:h(h({},Object(m.e)({id:function(t){return t.usuario.id},fetching:function(t){return t.usuario.fetching},error:function(t){return t.usuario.error},admin:function(t){return t.usuario.admin}})),{},{email:{get:function(){return"".concat(this.alias,"@").concat(this.host)},set:function(t){this.alias=t.split("@")[0],this.host=t.split("@")[1],"prefeitura.sp.gov.br"===this.host&&(this.hostOptions=this.hostOptions.reverse())}}}),watch:{id:function(t){t&&(this.filterProjetos(t),this.$router.push({path:"/registrar"}))},admin:function(t){t&&this.$router.push({path:"/admin"})}},methods:h(h(h({},Object(m.b)("usuario",["login","filterProjetos"])),Object(m.d)("usuario",["RESET"])),{},{setOption:function(t){this.host=t},checkInputEmail:function(){this.validEmail=!0,this.$router.push({query:{email:this.email}})},isValidEmail:function(t){return/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@spurbanismo.sp.gov.br|[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@prefeitura.sp.gov.br/gim.test(t)},goBack:function(){this.validEmail=!1}}),created:function(){this.$route.query.email&&this.isValidEmail(this.$route.query.email)&&(this.email=this.$route.query.email,this.validEmail=!0)}},w=(o(429),o(3)),component=Object(w.a)(_,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"login"},[t.error?o("modal",{attrs:{title:t.modal.title,error:t.error,description:t.modal.description,"action-description":t.modal.action.description,"action-text":t.modal.action.text},on:{setModalAction:t.RESET}}):t._e(),t._v(" "),o("div",{staticClass:"auth-card"},[t.validEmail?o("section",{staticClass:"card-pass"},[t.fetching?o("preloader",{staticClass:"card-pass__preloader-wrapper",attrs:{color:"#fff",message:"Verificando suas credenciais",width:"200px"}}):[o("btn-progresso",{staticClass:"card-pass__btn-voltar",on:{btnPrograssoAction:t.goBack}}),t._v(" "),o("form",{staticClass:"auth pass",on:{submit:function(e){return e.preventDefault(),t.login({email:t.email,password:t.password})}}},[o("span",{on:{click:function(e){t.showPasword=!t.showPasword}}},[o("visible-icon",{attrs:{visible:!t.showPasword}})],1),t._v(" "),o("div",{staticClass:"auth__group"},[o("div",{staticClass:"auth__input"},[o("label",{attrs:{tabindex:"1000",for:"auth__pass-input"}},[t._v("SENHA")]),t._v(" "),"checkbox"==(t.showPasword?"text":"password")?o("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{id:"auth__pass-input",name:"auth__pass-input","data-cy":"input__pass",type:"checkbox"},domProps:{checked:Array.isArray(t.password)?t._i(t.password,null)>-1:t.password},on:{change:function(e){var o=t.password,r=e.target,n=!!r.checked;if(Array.isArray(o)){var l=t._i(o,null);r.checked?l<0&&(t.password=o.concat([null])):l>-1&&(t.password=o.slice(0,l).concat(o.slice(l+1)))}else t.password=n}}}):"radio"==(t.showPasword?"text":"password")?o("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{id:"auth__pass-input",name:"auth__pass-input","data-cy":"input__pass",type:"radio"},domProps:{checked:t._q(t.password,null)},on:{change:function(e){t.password=null}}}):o("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{id:"auth__pass-input",name:"auth__pass-input","data-cy":"input__pass",type:t.showPasword?"text":"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})])]),t._v(" "),o("btn-progresso",{staticClass:"auth__btn",attrs:{"data-cy":"btn__confirm",disabled:""===t.password},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login({email:t.email,password:t.password})}}})],1)]],2):o("section",{staticClass:"card__email"},[o("form",{staticClass:"auth email",on:{submit:function(e){return e.preventDefault(),t.checkInputEmail(e)}}},[o("div",{staticClass:"auth__group"},[o("div",{staticClass:"auth__input"},[o("label",{attrs:{for:"auth__email-alias"}},[t._v("SEU EMAIL")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.alias,expression:"alias"}],attrs:{type:"text",name:"auth__email-alias",id:"auth__email-alias","data-cy":"input__email",autofocus:""},domProps:{value:t.alias},on:{input:function(e){e.target.composing||(t.alias=e.target.value)}}})]),t._v(" "),o("div",{staticClass:"auth__group separador"},[t._v("@")])]),t._v(" "),o("input-options",{staticStyle:{"margin-top":"1rem"},attrs:{options:t.hostOptions},on:{setOptionValue:t.setOption}}),t._v(" "),o("btn-progresso",{staticClass:"auth__btn",attrs:{"data-cy":"btn__email",disabled:""===t.alias},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.checkInputEmail(e)}}})],1)])]),t._v(" "),o("nuxt-link",{staticClass:"login__link",attrs:{to:"/faq",tag:"a"}},[t._v("Do que se trata este projeto?")])],1)}),[],!1,null,"02c10274",null);e.default=component.exports;installComponents(component,{Modal:o(100).default,InputOptions:o(283).default,BtnProgresso:o(102).default,Preloader:o(285).default,VisibleIcon:o(292).default})}}]);