(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{292:function(e,t,r){"use strict";r.r(t);var o={props:{visible:{type:Boolean,default:!1}}},n=r(3),component=Object(n.a)(o,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"visible"},[this.visible?t("svg",{attrs:{width:"30",height:"30",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[t("path",{attrs:{d:"M24 9C14 9 5.46 15.22 2 24C5.46 32.78 14 39 24 39C34 39 42.54 32.78 46 24C42.54 15.22 34 9 24 9ZM24 34C18.48 34 14 29.52 14 24C14 18.48 18.48 14 24 14C29.52 14 34 18.48 34 24C34 29.52 29.52 34 24 34ZM24 18C20.68 18 18 20.68 18 24C18 27.32 20.68 30 24 30C27.32 30 30 27.32 30 24C30 20.68 27.32 18 24 18Z",fill:"white"}}),this._v(" "),t("rect",{attrs:{x:"6.38647",y:"6.08081",width:"50.203",height:"3.41099",transform:"rotate(45 6.38647 6.08081)",fill:"white"}}),this._v(" "),t("rect",{attrs:{x:"9.04004",y:"3.427",width:"50.2031",height:"3.75306",transform:"rotate(45 9.04004 3.427)",fill:"#005249"}})]):t("svg",{attrs:{width:"30",height:"30",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[t("path",{attrs:{d:"M24 9C14 9 5.46 15.22 2 24C5.46 32.78 14 39 24 39C34 39 42.54 32.78 46 24C42.54 15.22 34 9 24 9ZM24 34C18.48 34 14 29.52 14 24C14 18.48 18.48 14 24 14C29.52 14 34 18.48 34 24C34 29.52 29.52 34 24 34ZM24 18C20.68 18 18 20.68 18 24C18 27.32 20.68 30 24 30C27.32 30 30 27.32 30 24C30 20.68 27.32 18 24 18Z",fill:"white"}})])])}),[],!1,null,null,null);t.default=component.exports},296:function(e,t,r){var content=r(322);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(18).default)("641efec0",content,!1,{sourceMap:!1})},313:function(e,t,r){"use strict";r.r(t);var o={name:"BoxEmail",props:{email:{type:String,require:!0},titulo:{type:String,require:!0}}},n=(r(321),r(3)),component=Object(n.a)(o,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("p",{staticClass:"message"},[e._v("\n  "+e._s(e.titulo)+"\n  "),r("br"),e._v(" "),r("a",{staticClass:"message__action",attrs:{href:"https://correioweb.prefeitura.sp.gov.br/exchange/"+e.email}},[e._v("\n    "+e._s(e.email)+"\n  ")])])}),[],!1,null,"fa738a28",null);t.default=component.exports},321:function(e,t,r){"use strict";var o=r(296);r.n(o).a},322:function(e,t,r){(t=r(17)(!1)).push([e.i,'*[data-v-fa738a28]{box-sizing:border-box}body[data-v-fa738a28]{font-family:"Roboto","Segoe UI","Helvetica",Arial,sans-serif;font-size:16px;margin:0;background-color:#005249}a[data-v-fa738a28]{color:#008375}.row[data-v-fa738a28]{display:flex;flex-direction:row;flex-wrap:wrap;width:100%}.column[data-v-fa738a28]{display:flex;flex-direction:column;flex-basis:100%;flex:1}.column.gutter[data-v-fa738a28]{max-width:2rem}.message[data-v-fa738a28]{display:flex;flex-direction:column;align-items:center;justify-content:center;color:#fff;text-align:center;line-height:2}.message__action[data-v-fa738a28]{text-decoration:none;color:hsla(0,0%,100%,.8);background:hsla(0,0%,100%,.04);padding:.2rem .7rem;transition:all .15s ease-in-out}.message__action[data-v-fa738a28]:hover{color:#fff;background:hsla(0,0%,100%,.1)}@media (max-width:400px){.message[data-v-fa738a28]{font-size:small}}',""]),e.exports=t},344:function(e,t,r){var content=r(403);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(18).default)("9d1cad08",content,!1,{sourceMap:!1})},402:function(e,t,r){"use strict";var o=r(344);r.n(o).a},403:function(e,t,r){(t=r(17)(!1)).push([e.i,'*[data-v-a84da7ea]{box-sizing:border-box}body[data-v-a84da7ea]{font-family:"Roboto","Segoe UI","Helvetica",Arial,sans-serif;font-size:16px;margin:0;background-color:#005249}a[data-v-a84da7ea]{color:#008375}.row[data-v-a84da7ea]{display:flex;flex-direction:row;flex-wrap:wrap;width:100%}.column[data-v-a84da7ea]{display:flex;flex-direction:column;flex-basis:100%;flex:1}.column.gutter[data-v-a84da7ea]{max-width:2rem}.reset-password[data-v-a84da7ea]{align-items:center;display:flex;flex-direction:column;justify-content:center;height:80vh}.reset-password .card__password[data-v-a84da7ea]{width:50%}.reset-password .card__password .form__password[data-v-a84da7ea]{display:flex;flex-direction:column;width:100%}.reset-password .card__password .form__password .btn__reset[data-v-a84da7ea]{align-self:flex-end}.reset-password .card__password .reset__password[data-v-a84da7ea]{color:#fff;display:flex;flex-direction:column;width:100%}.reset-password .card__password .reset__password .input__pass[data-v-a84da7ea]{display:flex;margin-bottom:1rem}.reset-password .card__password .reset__password .input__pass input[data-v-a84da7ea]{border:none;color:inherit;background-color:hsla(0,0%,100%,.08);padding:0 .75rem;height:3rem;border-radius:24px;font-size:inherit;outline:none;width:100%}.reset-password .card__password .reset__password .input__pass span[data-v-a84da7ea]{align-items:center;justify-content:flex-end;padding-right:.5rem;cursor:pointer;display:flex;width:10%}@media (max-width:400px){.reset-password .card__password .reset__password .input__pass span[data-v-a84da7ea]{width:15%}}.reset-password .card__password .reset__password label[data-v-a84da7ea]{margin-left:3rem;margin-bottom:.5rem}@media (max-width:400px){.reset-password .card__password .reset__password label[data-v-a84da7ea]{margin-left:1.5rem}}@media (max-width:400px){.reset-password .card__password[data-v-a84da7ea]{width:90%}}',""]),e.exports=t},443:function(e,t,r){"use strict";r.r(t);r(44),r(24),r(6),r(5),r(30);var o=r(13),n=r(313),d=r(102),c=r(100),l=r(33),f=r(292),m=r(27),h=r(14);function w(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function _(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?w(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):w(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var v={name:"Resetar",components:{BoxEmail:n.default,BtnProgresso:d.default,Modal:c.default,AppFooter:l.default,VisibleIcon:f.default},data:function(){return{showInput:{fpass:!1,spass:!1},form:{fpass:"",spass:""},show:!1,typeErro:!1,modal:{title:"Senha alterada.",description:"Senha alterada com sucesso.",action:{description:"Sua senha foi alterada, você será redirecionado para realizar o acesso a plataforma com a senha que acabou de cadastrar.",text:"Efetuar login"}}}},computed:_({email:function(){return this.$route.query.email},password:function(){return this.$route.query.reset}},Object(h.e)({id:function(e){return e.usuario.id},token:function(e){return e.usuario.token},erro:function(e){return e.usuario.error}})),created:function(){this.login({email:this.email,password:this.password})},beforeRouteEnter:function(e,t,r){r((function(e){e.resetAsync()}))},methods:_(_(_({},Object(h.b)("usuario",["login","resetAsync"])),Object(h.d)("usuario",["RESET","SET_ERROR"])),{},{clearInputs:function(e){var t=this;this.form.fpass="",this.form.spass="",this.$refs.fpass.focus(),this.modal.title="Senha negada.",this.modal.description=e,this.modal.action.description="Sua senha foi negada, por favor insira corretamente.",this.modal.action.text="Tente novamente",this.show=!0,this.typeErro=!0,setTimeout((function(){t.show=!1}),2500)},checkPassword:function(){this.form.fpass!==this.form.spass?this.clearInputs("Senhas digitadas não são iguais, por favor tente novamente!"):this.form.fpass===this.form.spass&&this.form.fpass===this.password?this.clearInputs("Senha já utilizada, cadastre uma senha diferente."):this.resetPassword(this.form.fpass)},resetPassword:function(e){var t=this;m.a.reset({password:e},this.id,this.token).then((function(e){t.modal.title="Senha alterada.",t.modal.description="Senha alterada com sucesso.",t.modal.action.description="Sua senha foi alterada, você será redirecionado para realizar o acesso a plataforma com a senha que acabou de cadastrar.",t.modal.action.text="Efetuar login",t.typeErro=!1,t.show=!0})).catch((function(e){t.SET_ERROR(e)}))},resetAndredirect:function(path,e){this.resetAsync(),this.email&&this.password||this.$router.push({path:"/login",query:{}}),this.$router.push({path:path,query:e})}})},x=(r(402),r(3)),component=Object(x.a)(v,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"reset-password"},[e.erro?r("modal",{attrs:{title:"Link inválido",error:!0,description:"Este link não está autorizado ou expirou. Tente fazer o login com a sua senha atual","action-description":"Se tiver problemas entre em contato com desenvolvimento@spurbanismo.sp.gov.br","action-text":"Fazer login com senha atual"},on:{setModalAction:function(t){return e.resetAndredirect("/login",{email:e.email})}}}):e._e(),e._v(" "),e.show?r("modal",{attrs:{title:e.modal.title,error:e.typeErro,description:e.modal.description,"action-description":e.modal.action.description,"action-text":e.modal.action.text},on:{setModalAction:function(t){return e.resetAndredirect("/login",{email:e.email})}}}):e._e(),e._v(" "),r("box-email",{attrs:{email:e.email,titulo:"DEFINA UMA SENHA PARA"}}),e._v(" "),r("section",{staticClass:"card__password"},[r("form",{staticClass:"form__password",on:{submit:function(t){return t.preventDefault(),e.checkPassword(t)}}},[r("section",{staticClass:"reset__password"},[r("label",{attrs:{for:"first__password"}},[e._v("DEFINA UMA SENHA")]),e._v(" "),r("div",{staticClass:"input__pass"},[r("span",{on:{click:function(t){e.showInput.fpass=!e.showInput.fpass}}},[r("visible-icon",{attrs:{visible:!e.showInput.fpass}})],1),e._v(" "),"checkbox"==(e.showInput.fpass?"text":"password")?r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.fpass,expression:"form.fpass"}],ref:"fpass",attrs:{name:"first__password",autofocus:"","data-cy":"input__fpass",type:"checkbox"},domProps:{checked:Array.isArray(e.form.fpass)?e._i(e.form.fpass,null)>-1:e.form.fpass},on:{change:function(t){var r=e.form.fpass,o=t.target,n=!!o.checked;if(Array.isArray(r)){var d=e._i(r,null);o.checked?d<0&&e.$set(e.form,"fpass",r.concat([null])):d>-1&&e.$set(e.form,"fpass",r.slice(0,d).concat(r.slice(d+1)))}else e.$set(e.form,"fpass",n)}}}):"radio"==(e.showInput.fpass?"text":"password")?r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.fpass,expression:"form.fpass"}],ref:"fpass",attrs:{name:"first__password",autofocus:"","data-cy":"input__fpass",type:"radio"},domProps:{checked:e._q(e.form.fpass,null)},on:{change:function(t){return e.$set(e.form,"fpass",null)}}}):r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.fpass,expression:"form.fpass"}],ref:"fpass",attrs:{name:"first__password",autofocus:"","data-cy":"input__fpass",type:e.showInput.fpass?"text":"password"},domProps:{value:e.form.fpass},on:{input:function(t){t.target.composing||e.$set(e.form,"fpass",t.target.value)}}})])]),e._v(" "),r("section",{staticClass:"reset__password"},[r("label",{attrs:{for:"second__password"}},[e._v("CONFIRME SUA SENHA")]),e._v(" "),r("div",{staticClass:"input__pass"},[r("span",{on:{click:function(t){e.showInput.spass=!e.showInput.spass}}},[r("visible-icon",{attrs:{visible:!e.showInput.spass}})],1),e._v(" "),"checkbox"==(e.showInput.spass?"text":"password")?r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.spass,expression:"form.spass"}],attrs:{name:"second__password","data-cy":"input__spass",type:"checkbox"},domProps:{checked:Array.isArray(e.form.spass)?e._i(e.form.spass,null)>-1:e.form.spass},on:{change:function(t){var r=e.form.spass,o=t.target,n=!!o.checked;if(Array.isArray(r)){var d=e._i(r,null);o.checked?d<0&&e.$set(e.form,"spass",r.concat([null])):d>-1&&e.$set(e.form,"spass",r.slice(0,d).concat(r.slice(d+1)))}else e.$set(e.form,"spass",n)}}}):"radio"==(e.showInput.spass?"text":"password")?r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.spass,expression:"form.spass"}],attrs:{name:"second__password","data-cy":"input__spass",type:"radio"},domProps:{checked:e._q(e.form.spass,null)},on:{change:function(t){return e.$set(e.form,"spass",null)}}}):r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.spass,expression:"form.spass"}],attrs:{name:"second__password","data-cy":"input__spass",type:e.showInput.spass?"text":"password"},domProps:{value:e.form.spass},on:{input:function(t){t.target.composing||e.$set(e.form,"spass",t.target.value)}}})])]),e._v(" "),r("btn-progresso",{staticClass:"btn__reset",attrs:{"data-cy":"btn__reset"}})],1)])],1)}),[],!1,null,"a84da7ea",null);t.default=component.exports;installComponents(component,{Modal:r(100).default,BoxEmail:r(313).default,VisibleIcon:r(292).default,BtnProgresso:r(102).default})}}]);